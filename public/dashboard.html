<!doctype html><html><head>
<meta charset="utf-8"/><title>P3C Admin Dashboard</title>
<style>
body{font-family:system-ui;margin:0;background:#f5f5f5}
.header{background:white;padding:16px 24px;border-bottom:1px solid #e5e5e5;display:flex;justify-content:space-between;align-items:center}
.nav{display:flex;gap:24px}
.nav a{text-decoration:none;color:#374151;font-weight:500}
.nav a:hover{color:#2563eb}
.main{padding:24px;max-width:1200px;margin:0 auto}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:32px}
.card{background:white;padding:24px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.1)}
.stat{font-size:2em;font-weight:bold;color:#2563eb}
.section{background:white;padding:24px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.1);margin-bottom:24px}
</style>
</head><body>
<div class="header">
<h1>P3C Admin Portal</h1>
<nav class="nav">
<a href="/courses.html">Courses</a>
<a href="/promotions.html">Promotions</a>
<a href="/tournaments.html">Tournaments</a>
<a href="/wallets.html">Wallets</a>
<a href="/notifications.html">Notifications</a>
<a href="#" onclick="logout()">Logout</a>
</nav>
</div>
<div class="main">
<div class="grid" id="stats"></div>
<div class="section">
<h2>Recent Activity</h2>
<div id="activity">Loading...</div>
</div>
</div>
<script>
const token = localStorage.getItem('token');
if (!token) location.href = '/login.html';

async function api(url, opts = {}) {
  const r = await fetch(url, {
    ...opts,
    headers: { ...opts.headers, Authorization: `Bearer ${token}` }
  });
  if (r.status === 401) location.href = '/login.html';
  return r.json();
}

async function loadStats() {
  const stats = await api('/api/dashboard/stats');
  document.getElementById('stats').innerHTML = `
    <div class="card"><div class="stat">${stats.courses}</div><div>Golf Courses</div></div>
    <div class="card"><div class="stat">${stats.players}</div><div>Registered Players</div></div>
    <div class="card"><div class="stat">${stats.claims_pending}</div><div>Pending Claims</div></div>
    <div class="card"><div class="stat">$${(stats.total_payouts/100).toFixed(2)}</div><div>Total Payouts</div></div>
  `;
}

function logout() {
  localStorage.removeItem('token');
  location.href = '/login.html';
}

loadStats();
</script>
</body></html>
